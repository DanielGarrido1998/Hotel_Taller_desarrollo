

create table if not exists rol (
    id_rol int not null,
    nombre_rol VARCHAR(20) not null,
    constraint rol_id_pk primary key(id_rol)
);

create table if not exists users(
    id_user int auto_increment,
    rut_user varchar(15) not null,
    nombre varchar(15) not null,
    apellido varchar(15) not null,
    correo varchar(50) not null,
    id_rol int not null,
    CONSTRAINT user_pk primary key(id_user),
    constraint rol_id_fk foreign key(id_rol)
        references rol(id_rol)
);


create table if not exists cliente(
    id_cliente int auto_increment,
    tarjeta varchar(25),
    pasaporte varchar(25),
    id_user int NOT NULL,
    constraint id_cliente_pk primary key(id_cliente),
    CONSTRAINT id_user_fk foreign key(id_user)
        references users(id_user)
);



create table if not exists administrador(
    telefono int,
    contraseña varchar(30) not null,
    id_user int not null,
    id_rol int not null,
    constraint id_user_admin_fk foreign key(id_user)
        references users(id_user),
    constraint id_rol_fk foreign key(id_rol)
        references rol(id_rol)
);


create table if not exists tipo_habitacion(
    id_tipo_habitacion int,
    nombre_habitacion varchar(25),
    constraint id_tipo_habitacion_pk primary key(id_tipo_habitacion)
);


create table if not exists habitacion (
    numero_habitacion int not null,
    descripcion varchar(255),
    capacidad int(2) not null,
    estado tinyint(1),
    precio_por_noche DECIMAL(10, 2) not null,
    id_tipo_habitacion int auto_increment,
    constraint habitacion_pk primary key(numero_habitacion),
    constraint tipo_habitacion_fk foreign key(id_tipo_habitacion) 
        references tipo_habitacion(id_tipo_habitacion)
);



create table if not exists habitacion_premium(
    id_h_premium int not null,
    numero_habitacion int not null,
    constraint id_h_premium_pk primary key(id_h_premium),
    constraint habitacion_premium_habitacion_fk foreign key(numero_habitacion)
        references habitacion(numero_habitacion)
);




create table if not exists reserva (
    id_reserva int auto_increment,
    id_cliente int not null,
    numero_habitacion int not null,
    fecha_inicio date not null,
    fecha_fin date not null,
    constraint reserva_pk primary key(id_reserva),
    constraint id_cliente_fk foreign key (id_cliente) 
        references cliente(id_cliente),
    constraint numero_habitacion_fk foreign key (numero_habitacion) 
        references habitacion(numero_habitacion)
);






insert into rol(id_rol, nombre_rol)
values (1, 'cliente'), (2, 'administrador');


insert into users (rut_user, nombre, apellido, correo, id_rol)
values ('rut_admin', 'Admin', 'ApellidoAdmin', 'admin@hotel.com', 2);

insert into administrador(telefono, contraseña, id_user, id_rol) values(23232342, '123', 0, 2)







    
